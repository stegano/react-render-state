/*! For license information please see index.js.LICENSE.txt */
!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t="object"==typeof exports?e(require("react")):e(r.react);for(var o in t)("object"==typeof exports?exports:r)[o]=t[o]}}(global,(r=>(()=>{"use strict";var e={20:(r,e,t)=>{var o=t(155),s=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};e.jsx=function(r,e,t){var o,c={},i=null,l=null;for(o in void 0!==t&&(i=""+t),void 0!==e.key&&(i=""+e.key),void 0!==e.ref&&(l=e.ref),e)n.call(e,o)&&!a.hasOwnProperty(o)&&(c[o]=e[o]);if(r&&r.defaultProps)for(o in e=r.defaultProps)void 0===c[o]&&(c[o]=e[o]);return{$$typeof:s,type:r,key:i,ref:l,props:c,_owner:u.current}}},155:e=>{e.exports=r},848:(r,e,t)=>{r.exports=t(20)}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(r,e)=>{for(var t in e)o.o(e,t)&&!o.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},o.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),o.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var s={};o.r(s),o.d(s,{IRenderState:()=>n,IStore:()=>u,RenderStateContext:()=>f,RenderStateProvider:()=>p,createStore:()=>l,useRenderState:()=>v});var n={};o.r(n),o.d(n,{Status:()=>a});var u={};o.r(u);var a,c=o(155);!function(r){r.Idle="Idle",r.Loading="Loading",r.Error="Error",r.Success="Success"}(a||(a={}));var i=o(848);const l=(r={initialStoreData:{}})=>{const{initialStoreData:e={}}=r,t={_store:e,_listenerList:[],_emit:()=>{for(const r of t._listenerList)r()},_reset:()=>{t._store={},t._emit()},set:(r,e,o=!1)=>{const s=t._store[r];t._store={...t._store,[r]:{...s,...e}},!1===o&&t._emit()},get:r=>t._store[r],has:r=>r in t._store,subscribe:r=>(t._listenerList.push(r),()=>{t._listenerList=t._listenerList.filter((e=>e!==r))}),getSnapshot:()=>t._store};return t},d=l(),f=(0,c.createContext)({getStore:()=>d}),p=function({children:r,store:e=d}){const t=(0,c.useMemo)((()=>({getStore:()=>e})),[e]);return(0,i.jsx)(f.Provider,{value:t,children:r})},v=(r,e,t)=>{const o=t??(0,c.useId)(),s=(0,c.useContext)(f),n=(0,c.useMemo)((()=>s.getStore()),[s]),u=(0,c.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),i=(0,c.useMemo)((()=>u[o]),[o,u]),l=(0,c.useRef)(void 0),d=(0,c.useRef)(void 0),p=(0,c.useRef)(i?.initialData??r),v=(0,c.useRef)(i?.initialError??e),[S,_]=(0,c.useState)((()=>void 0!==(i?.initialData??r)?a.Success:void 0!==(i?.initialError??e)?a.Error:a.Idle));(0,c.useEffect)((()=>{n.set(o,{status:a.Idle,initialData:p.current,initialError:v.current},!0)}),[o,n]),(0,c.useEffect)((()=>{if(i){const{currentData:r,currentError:e,previousData:t,previousError:o}=i;p.current=r,v.current=e,l.current=t,d.current=o,_(i.status)}}),[i]);const y=(0,c.useCallback)((async r=>{try{n.set(o,{status:a.Loading,currentData:void 0,previousData:p.current,currentError:void 0,previousError:v.current});const e=await r(l.current,d.current);n.set(o,{status:a.Success,currentData:e})}catch(r){throw n.set(o,{status:a.Error,currentError:r}),r}}),[o,n]),E=(0,c.useCallback)((()=>{n.set(o,{status:a.Idle,currentData:void 0,previousData:p.current,currentError:void 0,previousError:v.current})}),[o,n]),b=(0,c.useCallback)(((r,e,t,o)=>{switch(S){case a.Idle:return e?.(l.current,d.current);case a.Loading:return t?.(l.current,d.current);case a.Error:return void 0===v.current?(console.warn("No error found"),null):o?.(v.current,l.current,d.current);case a.Success:return void 0===p.current?(console.warn("No data found"),null):r?.(p.current,l.current,d.current);default:return console.warn(`Unknown status(${S})`),null}}),[S]),g=(0,c.useMemo)((()=>({setStatus:r=>{n.set(o,{status:r})},setPreviousDataWithoutStatus:r=>{n.set(o,{previousData:r},!0)},setPreviousErrorWithoutStatus:r=>{n.set(o,{previousError:r},!0)},setCurrentDataWithoutStatus:r=>{n.set(o,{currentData:r},!0)},setCurrentErrorWithoutStatus:r=>{n.set(o,{currentError:r},!0)}})),[o,n]);return[b,y,E,S,p.current,v.current,l.current,d.current,g]};return s})()));