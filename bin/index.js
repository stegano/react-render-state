/*! For license information please see index.js.LICENSE.txt */
!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t="object"==typeof exports?e(require("react")):e(r.react);for(var o in t)("object"==typeof exports?exports:r)[o]=t[o]}}(global,(r=>(()=>{"use strict";var e={155:e=>{e.exports=r},698:(r,e)=>{var t=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),e.jsx=function(r,e,o){var n=null;if(void 0!==o&&(n=""+o),void 0!==e.key&&(n=""+e.key),"key"in e)for(var u in o={},e)"key"!==u&&(o[u]=e[u]);else o=e;return e=o.ref,{$$typeof:t,type:r,key:n,ref:void 0!==e?e:null,props:o}}},848:(r,e,t)=>{r.exports=t(698)}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,o),u.exports}o.d=(r,e)=>{for(var t in e)o.o(e,t)&&!o.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},o.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),o.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};o.r(n),o.d(n,{IRenderState:()=>u,IStore:()=>s,RenderStateContext:()=>f,RenderStateProvider:()=>p,createStore:()=>l,useRenderState:()=>i,useRenderStateManagement:()=>S});var u={};o.r(u),o.d(u,{Status:()=>a});var s={};o.r(s);var a,c=o(155);!function(r){r.Idle="Idle",r.Loading="Loading",r.Error="Error",r.Success="Success"}(a||(a={}));const i=(r,e)=>{const t=(0,c.useId)(),o=(0,c.useMemo)((()=>`${t}_renderState`),[t]),n=(0,c.useRef)(void 0),u=(0,c.useRef)(void 0),s=(0,c.useRef)(r),i=(0,c.useRef)(e),[d,l]=(0,c.useState)((()=>void 0!==r?a.Success:void 0!==e?a.Error:a.Idle)),v=(0,c.useCallback)((r=>{if("function"==typeof r){const e=r;l((r=>{const t=e({previousData:n.current,previousError:u.current,currentData:s.current,currentError:i.current,status:r});return n.current=t.previousData,u.current=t.previousError,s.current=t.currentData,i.current=t.currentError,t.status}))}else{const e=r;n.current=e.previousData,u.current=e.previousError,s.current=e.currentData,i.current=e.currentError,l(e.status)}}),[]),f=(0,c.useCallback)((async r=>{try{n.current=s.current,u.current=i.current,s.current=void 0,i.current=void 0,l(a.Loading);const e=await r(n.current,u.current);return s.current=e,l(a.Success),e}catch(r){throw i.current=r,l(a.Error),r}}),[]),p=(0,c.useCallback)((()=>{n.current=s.current,u.current=i.current,s.current=void 0,i.current=void 0,l(a.Idle)}),[]);return[(0,c.useCallback)(((...r)=>{const e=1===r.length;let t,o,c,l;if("function"==typeof r[0])t=e?void 0:r[0],o=e?void 0:r[1],c=e?r[0]:r[2],l=e?void 0:r[3];else{const e=r[0];t=e?.renderIdle,o=e?.renderLoading,c=e?.renderSuccess,l=e?.renderError}switch(d){case a.Idle:return t?.(n.current,u.current);case a.Loading:return o?.(n.current,u.current);case a.Error:return void 0===i.current?(console.warn("No error found"),null):l?.(i.current,n.current,u.current);case a.Success:return void 0===s.current?(console.warn("No data found"),null):c?.(s.current,n.current,u.current);default:return console.warn(`Unknown status(${d})`),null}}),[d]),f,p,d,s.current,i.current,n.current,u.current,v,o]};var d=o(848);const l=(r={initialStoreData:{}})=>{const{initialStoreData:e={}}=r,t={_store:e,_listenerList:[],_emit:()=>{for(const r of t._listenerList)r()},_reset:()=>{t._store={},t._emit()},set:(r,e,o=!0,n=!1)=>{const u=t._store[r];t._store=o?{...t._store,[r]:{...u,...e}}:{...t._store,[r]:{...e}},!1===n&&t._emit()},get:r=>t._store[r],has:r=>r in t._store,remove:r=>{delete t._store[r],t._emit()},subscribe:r=>(t._listenerList.push(r),()=>{t._listenerList=t._listenerList.filter((e=>e!==r))}),getSnapshot:()=>t._store};return t},v=l(),f=(0,c.createContext)({getStore:()=>v}),p=function({children:r,store:e=v}){const t=(0,c.useMemo)((()=>({getStore:()=>e})),[e]);return(0,d.jsx)(f.Provider,{value:t,children:r})},S=(r,e,t)=>{const o=(0,c.useContext)(f),n=(0,c.useMemo)((()=>o.getStore()),[o]),u=(0,c.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),s=(0,c.useMemo)((()=>{if(void 0!==t)return u[t]}),[u,t]),d=(0,c.useMemo)((()=>void 0===t?r:s?.currentData?s.currentData:s?.initialData??r),[s?.currentData,s?.initialData,r,t]),l=(0,c.useMemo)((()=>s?.currentError?s.currentError:s?.initialError??e),[s?.currentError,s?.initialError,e]),[v,p,S,y,E,b,m,_,g,D]=i(d,l);return(0,c.useEffect)((()=>{if(void 0!==t&&void 0===u[t]){let o=a.Idle;r?o=a.Success:e&&(o=a.Error),n.set(t,{initialData:r,initialError:e,status:o,latestUpdatedId:D})}}),[t,u,r,e,n,D]),(0,c.useEffect)((()=>{void 0!==t&&void 0!==s&&s.latestUpdatedId!==D&&g({previousData:E,previousError:b,currentData:s?.currentData,currentError:s?.currentError,status:s?.status})}),[D,t,n,E,b,y,m,_,s,g]),[v,(0,c.useCallback)((async r=>{let e,o,u;try{return await p((async(s,c)=>(o=s,u=c,void 0!==t&&n.set(t,{previousData:s,previousError:c,currentData:void 0,currentError:void 0,status:a.Loading,latestUpdatedId:D}),e=await r(s,c),void 0!==t&&n.set(t,{currentData:e,status:a.Success,latestUpdatedId:D}),e)))}catch(r){throw void 0!==t&&n.set(t,{previousData:o,previousError:u,currentData:void 0,currentError:r,status:a.Error,latestUpdatedId:D}),r}}),[p,D,t,n]),S,y,E,b,m,_,g,t]};return n})()));