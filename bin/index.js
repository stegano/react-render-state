/*! For license information please see index.js.LICENSE.txt */
!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t="object"==typeof exports?e(require("react")):e(r.react);for(var o in t)("object"==typeof exports?exports:r)[o]=t[o]}}(global,(r=>(()=>{"use strict";var e={155:e=>{e.exports=r},698:(r,e)=>{var t=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),e.jsx=function(r,e,o){var n=null;if(void 0!==o&&(n=""+o),void 0!==e.key&&(n=""+e.key),"key"in e)for(var u in o={},e)"key"!==u&&(o[u]=e[u]);else o=e;return e=o.ref,{$$typeof:t,type:r,key:n,ref:void 0!==e?e:null,props:o}}},848:(r,e,t)=>{r.exports=t(698)}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,o),u.exports}o.d=(r,e)=>{for(var t in e)o.o(e,t)&&!o.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},o.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),o.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};o.r(n),o.d(n,{IRenderState:()=>u,IStore:()=>a,RenderStateContext:()=>f,RenderStateProvider:()=>p,createStore:()=>l,useRenderState:()=>i,useRenderStateManagement:()=>S});var u={};o.r(u),o.d(u,{Status:()=>s});var a={};o.r(a);var s,c=o(155);!function(r){r.Idle="Idle",r.Loading="Loading",r.Error="Error",r.Success="Success"}(s||(s={}));const i=(r,e)=>{const t=(0,c.useId)(),o=(0,c.useMemo)((()=>`${t}_renderState`),[t]),n=(0,c.useRef)(void 0),u=(0,c.useRef)(void 0),a=(0,c.useRef)(r),i=(0,c.useRef)(e),[d,l]=(0,c.useState)((()=>void 0!==r?s.Success:void 0!==e?s.Error:s.Idle)),v=(0,c.useCallback)((r=>{if("function"==typeof r){const e=r;l((r=>{const t=e({previousData:n.current,previousError:u.current,currentData:a.current,currentError:i.current,status:r});return n.current=t.previousData,u.current=t.previousError,a.current=t.currentData,i.current=t.currentError,t.status}))}else{const e=r;n.current=e.previousData,u.current=e.previousError,a.current=e.currentData,i.current=e.currentError,l(e.status)}}),[]),f=(0,c.useCallback)((async r=>{try{n.current=a.current,u.current=i.current,a.current=void 0,i.current=void 0,l(s.Loading);const e=await r(n.current,u.current);return a.current=e,l(s.Success),e}catch(r){throw i.current=r,l(s.Error),r}}),[]),p=(0,c.useCallback)((()=>{n.current=a.current,u.current=i.current,a.current=void 0,i.current=void 0,l(s.Idle)}),[]);return[(0,c.useCallback)(((r,e,t,o)=>{switch(d){case s.Idle:return e?.(n.current,u.current);case s.Loading:return t?.(n.current,u.current);case s.Error:return void 0===i.current?(console.warn("No error found"),null):o?.(i.current,n.current,u.current);case s.Success:return void 0===a.current?(console.warn("No data found"),null):r?.(a.current,n.current,u.current);default:return console.warn(`Unknown status(${d})`),null}}),[d]),f,p,d,a.current,i.current,n.current,u.current,v,o]};var d=o(848);const l=(r={initialStoreData:{}})=>{const{initialStoreData:e={}}=r,t={_store:e,_listenerList:[],_emit:()=>{for(const r of t._listenerList)r()},_reset:()=>{t._store={},t._emit()},set:(r,e,o=!0,n=!1)=>{const u=t._store[r];t._store=o?{...t._store,[r]:{...u,...e}}:{...t._store,[r]:{...e}},!1===n&&t._emit()},get:r=>t._store[r],has:r=>r in t._store,remove:r=>{delete t._store[r],t._emit()},subscribe:r=>(t._listenerList.push(r),()=>{t._listenerList=t._listenerList.filter((e=>e!==r))}),getSnapshot:()=>t._store};return t},v=l(),f=(0,c.createContext)({getStore:()=>v}),p=function({children:r,store:e=v}){const t=(0,c.useMemo)((()=>({getStore:()=>e})),[e]);return(0,d.jsx)(f.Provider,{value:t,children:r})},S=(r,e,t)=>{const o=(0,c.useContext)(f),n=(0,c.useMemo)((()=>o.getStore()),[o]),u=(0,c.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),a=(0,c.useMemo)((()=>{if(void 0!==t)return u[t]}),[u,t]),d=(0,c.useMemo)((()=>void 0===t?r:a?.currentData?a.currentData:a?.initialData??r),[a?.currentData,a?.initialData,r,t]),l=(0,c.useMemo)((()=>a?.currentError?a.currentError:a?.initialError??e),[a?.currentError,a?.initialError,e]),[v,p,S,y,E,b,m,_,D,g]=i(d,l);return(0,c.useEffect)((()=>{if(void 0!==t&&void 0===u[t]){let o=s.Idle;r?o=s.Success:e&&(o=s.Error),n.set(t,{initialData:r,initialError:e,status:o,latestUpdatedId:g})}}),[t,u,r,e,n,g]),(0,c.useEffect)((()=>{void 0!==t&&void 0!==a&&a.latestUpdatedId!==g&&D({previousData:E,previousError:b,currentData:a?.currentData,currentError:a?.currentError,status:a?.status})}),[g,t,n,E,b,y,m,_,a,D]),[v,(0,c.useCallback)((async r=>{let e,o,u;try{return await p((async(a,c)=>(o=a,u=c,void 0!==t&&n.set(t,{previousData:a,previousError:c,currentData:void 0,currentError:void 0,status:s.Loading,latestUpdatedId:g}),e=await r(a,c),void 0!==t&&n.set(t,{currentData:e,status:s.Success,latestUpdatedId:g}),e)))}catch(r){throw void 0!==t&&n.set(t,{previousData:o,previousError:u,currentData:void 0,currentError:r,status:s.Error,latestUpdatedId:g}),r}}),[p,g,t,n]),S,y,E,b,m,_,D,t]};return n})()));