/*! For license information please see index.js.LICENSE.txt */
!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t="object"==typeof exports?e(require("react")):e(r.react);for(var o in t)("object"==typeof exports?exports:r)[o]=t[o]}}(global,(r=>(()=>{"use strict";var e={155:e=>{e.exports=r},698:(r,e)=>{var t=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),e.jsx=function(r,e,o){var s=null;if(void 0!==o&&(s=""+o),void 0!==e.key&&(s=""+e.key),"key"in e)for(var n in o={},e)"key"!==n&&(o[n]=e[n]);else o=e;return e=o.ref,{$$typeof:t,type:r,key:s,ref:void 0!==e?e:null,props:o}}},848:(r,e,t)=>{r.exports=t(698)}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(r,e)=>{for(var t in e)o.o(e,t)&&!o.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},o.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),o.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var s={};o.r(s),o.d(s,{IRenderState:()=>n,IStore:()=>u,RenderStateContext:()=>f,RenderStateProvider:()=>v,createStore:()=>l,useRenderState:()=>p});var n={};o.r(n),o.d(n,{Status:()=>a});var u={};o.r(u);var a,i=o(155);!function(r){r.Idle="Idle",r.Loading="Loading",r.Error="Error",r.Success="Success"}(a||(a={}));var c=o(848);const l=(r={initialStoreData:{}})=>{const{initialStoreData:e={}}=r,t={_store:e,_listenerList:[],_emit:()=>{for(const r of t._listenerList)r()},_reset:()=>{t._store={},t._emit()},set:(r,e,o=!1)=>{const s=t._store[r];t._store={...t._store,[r]:{...s,...e}},!1===o&&t._emit()},get:r=>t._store[r],has:r=>r in t._store,subscribe:r=>(t._listenerList.push(r),()=>{t._listenerList=t._listenerList.filter((e=>e!==r))}),getSnapshot:()=>t._store};return t},d=l(),f=(0,i.createContext)({getStore:()=>d}),v=function({children:r,store:e=d}){const t=(0,i.useMemo)((()=>({getStore:()=>e})),[e]);return(0,c.jsx)(f.Provider,{value:t,children:r})},p=(r,e,t)=>{const o=t??(0,i.useId)(),s=(0,i.useContext)(f),n=(0,i.useMemo)((()=>s.getStore()),[s]),u=(0,i.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),c=(0,i.useMemo)((()=>u[o]),[o,u]),l=(0,i.useRef)(void 0),d=(0,i.useRef)(void 0),v=(0,i.useRef)(c?.initialData??r),p=(0,i.useRef)(c?.initialError??e),[S,y]=(0,i.useState)((()=>void 0!==(c?.initialData??r)?a.Success:void 0!==(c?.initialError??e)?a.Error:a.Idle));(0,i.useEffect)((()=>{n.set(o,{status:a.Idle,initialData:v.current,initialError:p.current},!0)}),[o,n]),(0,i.useEffect)((()=>{if(c){const{currentData:r,currentError:e,previousData:t,previousError:o}=c;v.current=r,p.current=e,l.current=t,d.current=o,y(c.status)}}),[c]);const b=(0,i.useCallback)((async r=>{try{n.set(o,{status:a.Loading,currentData:void 0,previousData:v.current,currentError:void 0,previousError:p.current});const e=await r(l.current,d.current);n.set(o,{status:a.Success,currentData:e})}catch(r){throw n.set(o,{status:a.Error,currentError:r}),r}}),[o,n]),E=(0,i.useCallback)((()=>{n.set(o,{status:a.Idle,currentData:void 0,previousData:v.current,currentError:void 0,previousError:p.current})}),[o,n]),_=(0,i.useCallback)(((r,e,t,o)=>{switch(S){case a.Idle:return e?.(l.current,d.current);case a.Loading:return t?.(l.current,d.current);case a.Error:return void 0===p.current?(console.warn("No error found"),null):o?.(p.current,l.current,d.current);case a.Success:return void 0===v.current?(console.warn("No data found"),null):r?.(v.current,l.current,d.current);default:return console.warn(`Unknown status(${S})`),null}}),[S]),g=(0,i.useMemo)((()=>({setStatus:r=>{n.set(o,{status:r})},setPreviousDataWithoutStatus:r=>{n.set(o,{previousData:r},!0)},setPreviousErrorWithoutStatus:r=>{n.set(o,{previousError:r},!0)},setCurrentDataWithoutStatus:r=>{n.set(o,{currentData:r},!0)},setCurrentErrorWithoutStatus:r=>{n.set(o,{currentError:r},!0)}})),[o,n]);return[_,b,E,S,v.current,p.current,l.current,d.current,g]};return s})()));